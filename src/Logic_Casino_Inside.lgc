[ onLoad()if (isset(newRoom))  {  set.horizon(91);  load.pic(currentRoom);  draw.pic(currentRoom);  discard.pic(currentRoom);    load.view(Pnj_Casino);    animate.obj(Obj_animatedPNJ1);  ignore.blocks(Obj_animatedPNJ1);  ignore.objs(Obj_animatedPNJ1);  set.view(Obj_animatedPNJ1, Pnj_Casino);  set.loop(Obj_animatedPNJ1, 0);  set.cel(Obj_animatedPNJ1, 0);  set.priority(Obj_animatedPNJ1, 12);  position(Obj_animatedPNJ1, 39, 121);  draw(Obj_animatedPNJ1);  stop.update(Obj_animatedPNJ1);    v200 = 21;  animate.obj(Obj_animatedPNJ2);  set.view(Obj_animatedPNJ2, Pnj_Casino);  set.loop(Obj_animatedPNJ2, 3);  set.cel(Obj_animatedPNJ2, 0);  position(Obj_animatedPNJ2, 113, 128);  draw(Obj_animatedPNJ2);  stop.update(Obj_animatedPNJ2);    varPickedQuestion1 = 0;  load.view(Casino_SlotMachines);  add.to.pic(Casino_SlotMachines, 0, 0, 92, 116, 11, 4);  add.to.pic(Casino_SlotMachines, 0, 0, 111, 140, 13, 4);  discard.view(Casino_SlotMachines);    add.to.pic(Pnj_Casino, 2, 0, 101, 128, 11, 0);  add.to.pic(Pnj_Casino, 2, 1, 138, 153, 13, 0);  add.to.pic(Pnj_Casino, 2, 2, 125, 153, 13, 0);  add.to.pic(Pnj_Casino, 2, 3, 107, 104, 11, 4);  add.to.pic(Pnj_Casino, 2, 4, 123, 126, 13, 4);  add.to.pic(Pnj_Casino, 2, 5, 114, 105, 11, 4);  add.to.pic(Pnj_Casino, 1, 0, 35, 127, 13, 4);    [ define Larry's startup position depending of the previous room   if (previousRoom == 35)  [ Casino Lift & Cabaret    {    varEgoPosX = 75;    varEgoPosY = 93;    }  else    {    if ((previousRoom == 37 || [ Casino's Slot machine game or Card Table        previousRoom == 38))      {      varEgoPosX = v34;      varEgoPosY = v35;      }    else                        [ Front       {      varEgoPosX = 77;      varEgoPosY = 167;      }    }      position.v(ego, varEgoPosX, varEgoPosY);  draw(ego);  show.pic();  return();  }[ end onLoad()    reset(f202);if ((posn(ego, 106, 137, 140, 143) ||     posn(ego, 108, 153, 120, 157) ||     posn(ego, 89, 128, 98, 133) ||     posn(ego, 88, 116, 98, 119)))  {  set(f202);  set(f69);  }  reset(f201);if (posn(ego, 18, 133, 47, 154))  {  set(f201);  set(f69);  }  reset(boolQuestionnaireFailedOnce);if (posn(ego, 31, 121, 60, 136))  {  set(boolQuestionnaireFailedOnce);  set(f69);  }  if (!isset(haveInput))  {  goto(SkipCommands);  }  if ((said("examine") ||     said("examine", "area") ||     said("examine", "casino") ||     said("examine", "hall")))  {  print("You are in the casino. There are slot machines to the right, and "        "blackjack tables to the left. This place is a gambler's paradise!");  }if ((said("ask", "bouncer") ||     said("ask", "blond") ||     said("ask", "customers")))  {  if (isset(f201))    {    print("Casino dealers are notoriously silent.");    }  else    {    print("Don't interrupt them; they're trying to win.");    }  }if ((said("examine", "bouncer") ||     said("examine", "blond") ||     said("examine", "customers")))  {  print("They appear to be having a great time. Perhaps you'd like to join "        "them?");  }if ((said("ask", "black jack", "bouncer") ||     said("ask", "black jack", "blond") ||     said("ask", "black jack", "customers") ||     said("examine", "black jack", "desk") ||     said("examine", "black jack", "bouncer") ||     said("examine", "black jack", "blond") ||     said("examine", "black jack", "customers")))  {  print("You could, if you'd sit down first.");  }if ((said("examine", "desk") ||     said("examine", "black jack") ||     said("examine", "black jack", "desk")))  {  if (isset(boolQuestionnaireFailedOnce))    {    print("The rear blackjack table is rather busy now. Try the front table.");    }  else    {    print("The front blackjack table is presently unoccupied.");    }  }if (said("examine", "slot"))  {  print("At least one person appears to be winning at the slot machines. "        "Perhaps you could too.");  }if ((said("bet", "bucks") ||     said("play") ||     said("bet", "rol")))  {  print("Move to a slot machine and put in some money. Or, find an empty "        "blackjack table and sit down.");  }if ((said("play", "black jack") ||     said("rest") ||     said("rest", "bench") ||     said("rest", "down")))  {  if (isset(boolQuestionnaireFailedOnce))    {    print("The rear blackjack table is rather busy now. Try the front table.");    }  else    {    if (!isset(f201))      {      set(f54);      }    else      {      set(f67);      v34 = varEgoPosX;      v35 = varEgoPosY;      varJumpToRoom = 38;      }    }  }if ((said("use", "slot") ||     said("move", "handle") ||     said("add", "bucks", "slot") ||     said("add", "bucks", "machine") ||     said("play", "slot")))  {  if (!isset(f202))    {    set(f54);    }  else    {    set(f67);    v34 = varEgoPosX;    v35 = varEgoPosY;    varJumpToRoom = 37;    }  }  SkipCommands:--varPickedQuestion1;if (varPickedQuestion1 == 1)  {  set.cel(Obj_animatedPNJ2, 0);  stop.update(Obj_animatedPNJ2);  force.update(Obj_animatedPNJ2);  random(33, 77, v200);  }  if (varPickedQuestion1 == 21)  {  start.update(Obj_animatedPNJ2);  }  --v200;if (v200 == 1)  {  toggle(f203);  if (!isset(f203))    {    set.cel(Obj_animatedPNJ1, 0);    stop.update(Obj_animatedPNJ1);    force.update(Obj_animatedPNJ1);    random(55, 222, varPickedQuestion1);    }  else    {    start.update(Obj_animatedPNJ1);    random(11, 33, v200);    }  }  if (edgeEgoHit == BOTTOM_EDGE)  {  varJumpToRoom = 32;  }  if (edgeEgoHit == TOP_EDGE)  {  varJumpToRoom = 35;  }return();[ Messages#message 1 "You are in the casino. There are slot machines to the right, and blackjack tables to the left. This place is a gambler's paradise!"#message 2 "The front blackjack table is presently unoccupied."#message 3 "The rear blackjack table is rather busy now. Try the front table."#message 4 "Move to an unoccupied slot machine first."#message 5 "At least one person appears to be winning at the slot machines. Perhaps you could too."#message 6 "They appear to be having a great time. Perhaps you'd like to join them?"#message 7 "Move to a slot machine and put in some money. Or, find an empty blackjack table and sit down."#message 8 "You could, if you'd sit down first."#message 9 "Don't interrupt them; they're trying to win."#message 10 "Casino dealers are notoriously silent."